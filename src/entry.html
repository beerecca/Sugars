<template>
  <section>
    <h2>${heading}</h2>

    <form role="form" submit.delegate="entry()">

      <div class="form-group">
        <label for="time">Date and Time</label>
        <p>${time}</p>
      </div>

      <div class="form-group panel panel-info">
        <div class="panel-heading">
          <label for="glucose" class="panel-title">Glucose Level (${glucose})</label>
        </div>
        <div class="panel-body">
          <input type="range" value.bind="glucose" class="form-control glucose" min="0" max="30" step="0.5">
        </div>
      </div>

      <div class="form-group panel panel-info">
        <div class="panel-heading">
          <label for="food" class="panel-title">Food</label>
        </div>
        <div class="panel-body">
          <div class="form-group">
            <select selected-item.bind="chosenFood" class="form-control food">
              <option value="default">Select food item:</option>
              <option repeat.for="foodItem of food" value.bind="foodItem.name" model.bind="foodItem">${foodItem.name}</option>
            </select>
          </div>

          <div class="form-group input-group">
            <input type="range" value.bind="quantity" class="form-control quantity" min="0" max="10" aria-describedby="units">
            <span class="input-group-addon" id="units">${quantity} ${chosenFood.unit}${plural}</span>
          </div>

          <div class="form-group input-group">
            <input type="range" value.bind="chosenFood.carbs" class="form-control carbs" min="0" step="5" aria-describedby="carbs">
            <span class="input-group-addon" id="carbs">${chosenFood.carbs} grams of carbs</span>
          </div>

          <div class="clearfix">
            <button click.trigger="addFood()" type="button" class="btn btn-default btn-primary pull-right"><i class="fa fa-plus"></i></button>
          </div>
        </div>
      </div>

      <div class="form-group panel panel-info">
        <div class="panel-heading">
          <label for="exercise" class="panel-title">Exercise (${exercise})</label>
        </div>
        <div class="panel-body">
          <input type="range" value.bind="exercise" class="form-control exercise" min="0" max="5">
        </div>
      </div>

      <div class="form-group panel panel-success">
        <div class="panel-heading">
          <label for="short" class="panel-title">Short Acting Insulin</label>
        </div>
        <div class="panel-body">
          <input type="number" class="form-control short" placeholder="${short}">
        </div>
      </div>

      <button type="submit" class="btn btn-default btn-primary">Submit</button>

    </form>
    <br><br>
    <p>DEBUG: ${(glucose - 7) / 3} normal adjust + ${totalCarbs / 10} food adjust - ${exercise} exercise = ${short} units</p> 
  </section>

</template>
